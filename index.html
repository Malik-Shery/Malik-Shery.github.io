<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subway Surfers Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        canvas {
            display: block;
            margin: 0 auto;
            background-color: #87CEEB; /* Sky blue background */
        }
    </style>
</head>
<body>

<canvas id="gameCanvas" width="800" height="400"></canvas>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let isGameRunning = true;
    let characterY = canvas.height - 100;
    let characterX = 100;
    let characterWidth = 50;
    let characterHeight = 50;
    let gravity = 1;
    let jumpStrength = 20;
    let isJumping = false;
    let jumpSpeed = 0;
    let score = 0;

    // Obstacles
    let obstacles = [];
    let obstacleSpeed = 3;
    let obstacleWidth = 50;
    let obstacleHeight = 50;
    
    // Game loop
    function gameLoop() {
        if (!isGameRunning) return;

        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Update the character
        updateCharacter();
        
        // Create and move obstacles
        createObstacles();
        moveObstacles();

        // Draw score
        drawScore();

        // Check for collisions
        checkCollisions();

        // Repeat the game loop
        requestAnimationFrame(gameLoop);
    }

    // Update the character's position (jumping)
    function updateCharacter() {
        if (isJumping) {
            characterY -= jumpSpeed;
            jumpSpeed -= gravity; // Gravity pulls the character down
            if (characterY >= canvas.height - 100) {
                characterY = canvas.height - 100;
                isJumping = false;
                jumpSpeed = 0;
            }
        }
        
        // Draw the character (a simple square for now)
        ctx.fillStyle = "#FFD700"; // Gold color for the character
        ctx.fillRect(characterX, characterY, characterWidth, characterHeight);
    }

    // Handle obstacle creation and movement
    function createObstacles() {
        if (Math.random() < 0.02) { // Randomly generate obstacles
            const obstacleX = canvas.width;
            const obstacleY = canvas.height - obstacleHeight;
            obstacles.push({x: obstacleX, y: obstacleY});
        }
    }

    function moveObstacles() {
        for (let i = 0; i < obstacles.length; i++) {
            obstacles[i].x -= obstacleSpeed;

            // Draw the obstacles
            ctx.fillStyle = "#8B4513"; // Brown color for obstacles
            ctx.fillRect(obstacles[i].x, obstacles[i].y, obstacleWidth, obstacleHeight);

            // Remove obstacles off the screen
            if (obstacles[i].x + obstacleWidth < 0) {
                obstacles.splice(i, 1);
                score++; // Increase score when obstacle is passed
                i--;
            }
        }
    }

    // Draw the score
    function drawScore() {
        ctx.font = "20px Arial";
        ctx.fillStyle = "#000";
        ctx.fillText("Score: " + score, 20, 30);
    }

    // Check for collisions with obstacles
    function checkCollisions() {
        for (let i = 0; i < obstacles.length; i++) {
            if (characterX + characterWidth > obstacles[i].x && characterX < obstacles[i].x + obstacleWidth &&
                characterY + characterHeight > obstacles[i].y) {
                // Collision detected
                gameOver();
            }
        }
    }

    // Game over function
    function gameOver() {
        isGameRunning = false;
        alert("Game Over! Your score: " + score);
        resetGame();
    }

    // Reset the game
    function resetGame() {
        score = 0;
        characterY = canvas.height - 100;
        obstacles = [];
        isGameRunning = true;
        gameLoop();
    }

    // Listen for the jump event (click to jump)
    canvas.addEventListener("click", function() {
        if (!isJumping) {
            isJumping = true;
            jumpSpeed = jumpStrength;
        }
    });

    // Start the game loop
    gameLoop();
</script>

</body>
</html>
